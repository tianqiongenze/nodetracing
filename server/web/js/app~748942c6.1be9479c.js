(function(e){function t(t){for(var n,i,s=t[0],c=t[1],u=t[2],d=0,p=[];d<s.length;d++)i=s[d],a[i]&&p.push(a[i][0]),a[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);l&&l(t);while(p.length)p.shift()();return o.push.apply(o,u||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],n=!0,s=1;s<r.length;s++){var c=r[s];0!==a[c]&&(n=!1)}n&&(o.splice(t--,1),e=i(i.s=r[0]))}return e}var n={},a={"app~748942c6":0},o=[];function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=n,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/nodetracing/web/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var l=c;o.push([0,"chunk-vendors~253ae210","chunk-vendors~7274e1de","chunk-vendors~62ab5815","chunk-vendors~db300d2f","chunk-vendors~2aec3c5f","chunk-vendors~2119ef82","chunk-vendors~ec219104","chunk-vendors~be6a9b4d","chunk-vendors~a3df519a","chunk-vendors~ed9be1e3","chunk-vendors~d71bf088","chunk-vendors~41ff223c","chunk-vendors~26381bd2","chunk-vendors~a31b3962","chunk-vendors~88ded296","chunk-vendors~f3137b1a","chunk-vendors~64e68313","chunk-vendors~dc26c9a5","chunk-vendors~588225d9","chunk-vendors~4813aef3","chunk-vendors~bdcda83c","chunk-vendors~16d3814e","chunk-vendors~ef4b7b69","chunk-vendors~5f2a7c9c","chunk-vendors~deda5bc4","chunk-vendors~6216c3af","chunk-vendors~9c5b28f6","chunk-vendors~ec8c427e","chunk-vendors~c8728516","chunk-vendors~cf8ca540","chunk-vendors~d2305125","chunk-vendors~4a7e9e0b","chunk-vendors~dde583c9","chunk-vendors~793fb972","chunk-vendors~9120e007","chunk-vendors~03631906","chunk-vendors~87de5440","chunk-vendors~2900d54e","chunk-vendors~9614c307","chunk-vendors~cfcd6536","chunk-vendors~f538a826","chunk-vendors~fd542d86","chunk-vendors~10d884ce","chunk-vendors~7621f983","chunk-vendors~02fca611"]),r()})({0:function(e,t,r){e.exports=r("56d7")},1:function(e,t){},2:function(e,t){},3:function(e,t){},4:function(e,t){},"428c":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAACXBIWXMAAAsTAAALEwEAmpwYAAABWWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS40LjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyI+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgpMwidZAAADm0lEQVRYCcWWPWiUQRCGcybREI2IikIECTGFjT8RMZZWloI2okUKsVEbC8FKbW0EsbKwtVAQUSGNBH9QESUGBEVQg0UEkVgogvk/n3dv3/P7bi/cXbzowHszOzM7szsz3yYtLf+ZCkuVv1gsLiO2IJovFArzJfEf/MbkuUzSgeTCiSK3axELJdJt4QNsPwSWgyF09xcRrrEtJG3VDvhxUElnoy34NBa5Dm+yhX7De8DnmH0SPhXlX/D+ykN4SHIpcFS/2qz0Gp60TDqgW/lmG5HXgTmwAqgFs6AD7ACicpxykpI+lK+Vfmmz+ii7ejqttXzQuccKIl8Fl/8ctl3wM0CJZ4ATFZFFEyXW4nVcWhtvTaBecBE8BiPgLjgJOuUK160CIXeAA2AIiGbAxyDlf4ZZdgJVzAdzmBA0VAOjgn0F1egpyh7tgq8Hp8AoEKnX18Be0A2ugi9AsW6ATXFf2naMHqB+5J9ApIAqqzALNFCiZ+A8+KYF9AlcAOFgSmJCp0NqJgIhp8llweDP5zayyJNbWv35VXlNzxEGgQYuEHJrhIbYQ6n4Wi+Y3LffgtM4EGkAq5GqIbrnpOKs20CSAF31fmc2q+8eiNXIqzK2aqKnt0vBcdAt9c7rS0gIvf0TmxU6gJ0mkadsqMHlR/zqiWvszZlVNi4TbjOG/D5a9V1Xo/AWYLhDcrVJ3/tfkR4VVUBct7oco6m8KqtsghLrYWkHogGSd2kPvD1eoGRZ7C9BPIznkLOUHcgxDLei8Q18t/LBNf3JEDZ8FgeBHwQPgL6KCfABXAdbY8ITyHobRKedCNmPmaZfX4Y/S3EPu91TLifgSihAH9gOwisWkzvJLvSvgUgvXXe0u01JAnzqqxKO4eTZCOh0IB8uJGG9ElwBonGwPx5iDfIguBRxBO6/I+UHKhs/kdkQqgHXK5aUD12oREyoBD+ASH/EhoOU/3nEcnP0r68SyakqFAQMvY5Be1k/zOTUs234aX+CTv8XNJccFH4MiKZLLPfrQxxVdiyhFc0pRemNUNx9+oGSlmV0e4JH9GnWAaoljHnKzD5++oOhWQdwltEo+Mm2Xty6V1GZO0jWsWGZfobbwdeCd0Cknuux0iC6/y+Rw+fYcJJaGwgchgq+E7wFlfQCRZ/iwMuVd19qxa/LTuA2/kDp1hvYcBhsAyr9CLiJ7Ts2/9eNaglICRYKi618c/s0tQIOSiLF1UE0aM4xRwWSwfsN0qUOm2XynvYAAAAASUVORK5CYII="},"56d7":function(e,t,r){"use strict";r.r(t);r("cadf"),r("551c"),r("097d");var n=r("2b0e"),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",{attrs:{id:"inspire",dark:""}},[r("Layout")],1)},o=[],i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.isShow?n("v-navigation-drawer",{attrs:{clipped:"",fixed:"",app:"",width:"200"},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[n("v-list",{attrs:{dense:""}},[n("v-list-tile",{attrs:{to:"/home"}},[n("v-list-tile-action",[n("v-icon",[e._v("dashboard")])],1),n("v-list-tile-content",[n("v-list-tile-title",[e._v("Dashboard")])],1)],1),n("v-list-tile",{attrs:{to:"/topology"}},[n("v-list-tile-action",[n("v-icon",[e._v("device_hub")])],1),n("v-list-tile-content",[n("v-list-tile-title",[e._v("Topology")])],1)],1),n("v-list-tile",{attrs:{to:"/service"}},[n("v-list-tile-action",[n("v-icon",[e._v("scatter_plot")])],1),n("v-list-tile-content",[n("v-list-tile-title",[e._v("Service")])],1)],1),n("v-list-tile",{attrs:{to:"/operation"}},[n("v-list-tile-action",[n("v-icon",[e._v("view_list")])],1),n("v-list-tile-content",[n("v-list-tile-title",[e._v("Operation")])],1)],1),n("v-list-tile",{attrs:{to:"/setting"}},[n("v-list-tile-action",[n("v-icon",[e._v("settings")])],1),n("v-list-tile-content",[n("v-list-tile-title",[e._v("Setting")])],1)],1)],1)],1):e._e(),e.isShow?n("v-toolbar",{attrs:{app:"",fixed:"","clipped-left":"",dense:""}},[n("v-toolbar-side-icon",{on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}}),n("v-toolbar-title",[e._v("NodeTracing")]),n("img",{attrs:{src:r("428c")}}),n("v-spacer"),n("v-btn",{attrs:{flat:""},on:{click:e.logout}},[e._v("Logout")])],1):e._e(),n("v-content",[n("router-view")],1)],1)},s=[],c={data:function(){return{drawer:null}},computed:{isShow:function(){return"/"!=this.$route.path}},methods:{logout:function(){localStorage.clear(),this.$router.push({path:"/"})}}},u=c,l=r("2877"),d=r("6544"),p=r.n(d),v=r("8336"),h=r("549c"),f=r("132d"),g=r("8860"),m=r("ba95"),b=r("40fe"),w=r("5d23"),x=r("f774"),y=r("9910"),S=r("71d9"),A=r("706c"),k=r("2a7f"),O=Object(l["a"])(u,i,s,!1,null,null,null);O.options.__file="Layout.vue";var C=O.exports;p()(O,{VBtn:v["a"],VContent:h["a"],VIcon:f["a"],VList:g["a"],VListTile:m["a"],VListTileAction:b["a"],VListTileContent:w["a"],VListTileTitle:w["b"],VNavigationDrawer:x["a"],VSpacer:y["a"],VToolbar:S["a"],VToolbarSideIcon:A["a"],VToolbarTitle:k["a"]});var _={name:"App",components:{Layout:C}},V=_,R=r("7496"),I=Object(l["a"])(V,a,o,!1,null,null,null);I.options.__file="App.vue";var j=I.exports;p()(I,{VApp:R["a"]});var T=r("8c4f"),L=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-layout",{attrs:{"justify-center":"","fill-height":""}},[n("v-container",{attrs:{fluid:""}},[n("br"),n("br"),n("v-layout",{attrs:{"align-center":"","justify-center":"","fill-height":""}},[n("v-flex",{attrs:{xs12:"",sm4:"","mr-1":""}},[n("v-card",{staticClass:"elevation-12"},[n("v-toolbar",[n("v-toolbar-title",[e._v("NodeTracing")]),n("img",{attrs:{src:r("428c")}}),n("v-spacer")],1),n("v-card-text",[n("v-form",[n("v-text-field",{attrs:{"prepend-icon":"person",name:"login",label:"Account",type:"text",messages:["e.g. admin"]},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),n("v-text-field",{attrs:{"prepend-icon":"lock",name:"password",label:"Password",type:"password",messages:["e.g. 123456"]},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{on:{click:e.login}},[e._v("Login")])],1)],1)],1)],1),n("br"),n("v-layout",{attrs:{"justify-center":"","fill-height":""}},[n("v-flex",{attrs:{xs12:"",sm4:""}},[n("div",{staticClass:"text-xs-center"},[e._v("2018-2019 Â©CheneyXu")])])],1)],1),n("v-snackbar",{attrs:{top:"","auto-height":"",color:"error"},model:{value:e.err,callback:function(t){e.err=t},expression:"err"}},[e._v("\n    "+e._s(e.errMsg)+"\n    "),n("v-btn",{attrs:{flat:""},on:{click:function(t){e.err=!1}}},[e._v("Close")])],1)],1)},E=[],D=(r("96cf"),r("3b8d")),N=r("279c"),B=r.n(N),M={data:function(){return{username:null,password:null,err:!1,errMsg:""}},created:function(){localStorage.getItem("token")&&this.$router.push({path:"/home"})},methods:{login:function(){var e=Object(D["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!this.username||!this.password){e.next=7;break}return e.next=3,this.$store.dispatch("login",{username:this.username,password:B.a.hashSync(this.password)});case 3:t=e.sent,t?(localStorage.setItem("token",t),this.$router.push({path:"/home"})):(this.err=!0,this.errMsg="Auth Failed"),e.next=9;break;case 7:this.err=!0,this.errMsg="Auth Failed";case 9:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}},G=M,z=r("b0af"),F=r("99d9"),W=r("a523"),$=r("0e8f"),J=r("4bd4"),U=r("a722"),P=r("2db4"),X=r("2677"),Y=Object(l["a"])(G,L,E,!1,null,null,null);Y.options.__file="Login.vue";var H=Y.exports;p()(Y,{VBtn:v["a"],VCard:z["a"],VCardActions:F["a"],VCardText:F["b"],VContainer:W["a"],VFlex:$["a"],VForm:J["a"],VLayout:U["a"],VSnackbar:P["a"],VSpacer:y["a"],VTextField:X["a"],VToolbar:S["a"],VToolbarTitle:k["a"]});var Z=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{attrs:{fluid:"","grid-list-sm":""}},[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{"d-flex":"",xs12:""}},[r("v-flex",{attrs:{"d-flex":"",xs4:""}},[r("v-hover",{scopedSlots:e._u([{key:"default",fn:function(t){var n=t.hover;return r("v-card",{class:"elevation-"+(n?24:0),attrs:{color:"teal",dark:"",tile:"",flat:""}},[r("v-card-title",[e._v("Servicesï¼"+e._s(e.stat.serviceCount))])],1)}}])})],1),r("v-flex",{attrs:{"d-fle":"",xs4:""}},[r("v-hover",{scopedSlots:e._u([{key:"default",fn:function(t){var n=t.hover;return r("v-card",{class:"elevation-"+(n?24:0),attrs:{color:"blue-grey",dark:"",tile:"",flat:""}},[r("v-card-text",[e._v("Operationsï¼"+e._s(e.stat.operationCount))])],1)}}])})],1),r("v-flex",{attrs:{"d-fle":"",xs4:""}},[r("v-hover",{scopedSlots:e._u([{key:"default",fn:function(t){var n=t.hover;return r("v-card",{class:"elevation-"+(n?24:0),attrs:{color:"brown",dark:"",tile:"",flat:""}},[r("v-card-text",[e._v("Clusterï¼"+e._s(e.stat.clusterCount))])],1)}}])})],1)],1),r("v-flex",{attrs:{xs5:""}},[r("v-treeview",{attrs:{open:e.open,items:e.items,activatable:"","item-key":"name","open-all":""},scopedSlots:e._u([{key:"prepend",fn:function(t){var n=t.item,a=t.open;t.leaf;return[n.file?r("v-icon",[e._v(e._s(e.files[n.file]))]):r("v-icon",[e._v(e._s(a?"mdi-folder-open":"mdi-folder"))])]}}]),model:{value:e.tree,callback:function(t){e.tree=t},expression:"tree"}})],1),r("v-flex",{attrs:{xs7:""}},[r("div",{staticStyle:{width:"100%",height:"600px"},attrs:{id:"chart"}})])],1)],1)},q=[],K={created:function(){this.getCount()},mounted:function(){this.drawGauge()},data:function(){return{stat:{serviceCount:0,operationCount:0,clusterCount:0,durationAvg:0},open:["public"],files:{html:"mdi-language-html5",js:"mdi-nodejs",json:"mdi-json",md:"mdi-markdown",pdf:"mdi-file-pdf",png:"mdi-file-image",txt:"mdi-file-document-outline",xls:"mdi-file-excel"},tree:[],items:[{name:"services",children:[{name:"s1",children:[{name:"main"}]}]}]}},methods:{getCount:function(){var e=Object(D["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$store.dispatch("getCount",{});case 2:this.stat=e.sent,this.drawGauge();case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),getDuration:function(){var e=Object(D["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.drawGauge();case 1:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),drawGauge:function(){var e=Object(D["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.$echarts.init(document.getElementById("chart")).setOption({tooltip:{formatter:"{a} <br/>{b} : {c}ms"},series:[{title:{textStyle:{color:"white"}},name:"Duration",type:"gauge",radius:"85%",min:0,max:5e3,detail:{formatter:"{value}ms"},data:[{value:this.stat.durationAvg,name:"Runtime"}],axisLine:{lineStyle:{color:[[.2,"#91c7ae"],[.5,"#63869e"],[1,"#c23531"]]}}}]});case 1:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()}},Q=K,ee=r("12b2"),te=r("ce87"),re=r("eb2a"),ne=Object(l["a"])(Q,Z,q,!1,null,null,null);ne.options.__file="Dashboard.vue";var ae=ne.exports;p()(ne,{VCard:z["a"],VCardText:F["b"],VCardTitle:ee["a"],VContainer:W["a"],VFlex:$["a"],VHover:te["a"],VIcon:f["a"],VLayout:U["a"],VTreeview:re["a"]});var oe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{attrs:{fluid:"","fill-height":"","justify-center":""}},[r("div",{staticStyle:{width:"100%",height:"600px"},attrs:{id:"dag"}})])},ie=[],se=(r("7f7f"),{mounted:function(){this.drawDAG()},methods:{drawDAG:function(){var e=Object(D["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$store.dispatch("serviceDAG",{});case 2:t=e.sent,t.legend.textStyle={color:"white"},this.$echarts.init(document.getElementById("dag")).setOption({backgroundColor:"#303030",title:{text:"Services DAG",textStyle:{color:"white"}},series:[{label:{normal:{position:"top",textStyle:{fontSize:22},show:!0}},edgeSymbol:["circle","arrow"],edgeLabel:{normal:{formatter:function(e){return e.data.category},show:!0,textStyle:{fontSize:20}}},type:"graph",lineStyle:{normal:{opacity:.9,width:1,curveness:0}},data:t.data,links:t.links,categories:t.categories,layout:"force",symbolSize:25,force:{repulsion:1e3,edgeLength:[150,300]},roam:!0,focusNodeAdjacency:!0}],legend:t.legend,tooltip:{formatter:function(e){return"edge"===e.dataType?e.data.category+": "+e.data.target:e.data.category+": "+e.data.name}},animationEasingUpdate:"quinticInOut",animationDurationUpdate:1500});case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}}),ce=se,ue=Object(l["a"])(ce,oe,ie,!1,null,null,null);ue.options.__file="Topology.vue";var le=ue.exports;p()(ue,{VContainer:W["a"]});var de=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{attrs:{fluid:"","fill-height":"","pt-2":""}},[r("v-layout",{attrs:{wrap:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-select",{attrs:{items:e.services,label:"Select service"},on:{change:e.changeService},model:{value:e.selectedService,callback:function(t){e.selectedService=t},expression:"selectedService"}})],1),r("v-flex",{attrs:{xs12:""}},[r("div",{staticStyle:{width:"100%",height:"600px"},attrs:{id:"dag"}})])],1)],1)},pe=[],ve=r("bd86"),he={data:function(){return{selectedService:"",services:[]}},mounted:function(){this.getServices()},methods:{getServices:function(){var e=Object(D["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$store.dispatch("getServices",{});case 2:t=e.sent,this.services=t,this.selectedService=this.services[0],this.changeService(this.selectedService);case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),changeService:function(){var e=Object(D["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.drawDAG(t);case 1:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),drawDAG:function(){var e=Object(D["a"])(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$store.dispatch("spanDAG",{serviceName:t});case 2:n=e.sent,n.legend.textStyle={color:"white"},this.$echarts.init(document.getElementById("dag")).setOption({backgroundColor:"#303030",title:{text:"ã".concat(t||"Select service","ã Spans DAG"),textStyle:{color:"white"}},series:[(r={label:{normal:{position:"top",textStyle:{fontSize:22},show:!0}},edgeLabel:{normal:{formatter:function(e){return e.data.category},show:!0,textStyle:{fontSize:20}}},edgeSymbol:["circle","arrow"],edgeSymbolSize:[10,10],type:"graph",layout:"force",force:{repulsion:60},draggable:!0,lineStyle:{normal:{opacity:.9,width:1,curveness:0}},data:n.data,links:n.links,categories:n.categories},Object(ve["a"])(r,"layout","force"),Object(ve["a"])(r,"symbolSize",25),Object(ve["a"])(r,"force",{repulsion:1e3,edgeLength:[150,300]}),Object(ve["a"])(r,"roam",!0),Object(ve["a"])(r,"focusNodeAdjacency",!0),r)],legend:n.legend,tooltip:{formatter:function(e){return"edge"===e.dataType?e.data.category+": "+e.data.target:e.data.category+": "+e.data.name}},animationEasingUpdate:"quinticInOut",animationDurationUpdate:1500});case 5:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()}},fe=he,ge=r("b56d"),me=Object(l["a"])(fe,de,pe,!1,null,null,null);me.options.__file="Service.vue";var be=me.exports;p()(me,{VContainer:W["a"],VFlex:$["a"],VLayout:U["a"],VSelect:ge["a"]});var we=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{attrs:{fluid:"","fill-height":"","pt-2":""}},[r("v-layout",{attrs:{wrap:""}},[r("v-flex",{attrs:{xs6:""}},[r("v-select",{attrs:{items:e.services,label:"Select service"},on:{change:e.getServiceOperations},model:{value:e.selectedService,callback:function(t){e.selectedService=t},expression:"selectedService"}})],1),r("v-flex",{attrs:{xs6:""}},[r("v-select",{attrs:{items:e.operations,label:"Select operation"},on:{change:e.getOperationSpans},model:{value:e.selectedOperation,callback:function(t){e.selectedOperation=t},expression:"selectedOperation"}})],1),r("v-flex",{attrs:{xs12:""}},[r("v-data-table",{attrs:{headers:e.headers,items:e.spans,"hide-actions":"",loading:e.loading,"disable-initial-sort":e.disableInitialSort},scopedSlots:e._u([{key:"items",fn:function(t){return[r("td",{staticClass:"text-xs-left",on:{click:function(r){e.openSpan(t.item.id)}}},[e._v(e._s(t.item.operationName)+"ï¼"+e._s(t.item.id))]),r("td",{on:{click:function(r){e.openSpan(t.item.id)}}},[e._v(e._s(e._f("formatDate")(t.item.startMs)))]),r("td",{on:{click:function(r){e.openSpan(t.item.id)}}},[r("v-layout",[r("v-flex",{attrs:{xs11:""}},[r("v-progress-linear",{attrs:{color:100==t.item.percent?"error":"blue-grey",height:"20",value:t.item.percent}})],1),r("v-flex",{attrs:{xs1:"","align-self-center":""}},[e._v(e._s(t.item.duration)+"ms")])],1)],1)]}}])},[r("v-progress-linear",{attrs:{slot:"progress",color:"blue",indeterminate:""},slot:"progress"})],1)],1)],1),r("Span",{attrs:{selectedOperation:e.selectedOperation,spanId:e.spanId}})],1)},xe=[],ye=r("5a0c"),Se=r.n(ye),Ae=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{attrs:{width:"1000"},model:{value:e.openSpan,callback:function(t){e.openSpan=t},expression:"openSpan"}},[r("v-card",[r("v-card-title",{staticClass:"headline grey darken-2",attrs:{"primary-title":""}},[e._v(e._s(e.selectedOperation)+"ï¼"+e._s(e.dialogTitle))]),r("div",{staticStyle:{width:"100%",height:"500px"},attrs:{id:"gantt"}}),r("v-divider"),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(t){e.openSpan=!1}}},[e._v("å³é­")])],1)],1)],1)},ke=[],Oe=r("5d73"),Ce=r.n(Oe),_e={data:function(){return{dialogTitle:null}},props:["selectedOperation","spanId"],methods:{drawGantt:function(){var e=Object(D["a"])(regeneratorRuntime.mark(function e(t){var r,n,a,o,i,s,c,u,l,d,p,v,h,f,g,m,b,w,x,y,S;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return S=function(e,t){var n=t.value(0),a=t.coord([t.value(1),n]),o=t.coord([t.value(2),n]),i=.5*t.size([0,1])[1],s=t.value(3),c=r.$echarts.graphic.clipRectByRect({x:a[0],y:a[1]-i/2,width:o[0]-a[0],height:i},{x:e.coordSys.x,y:e.coordSys.y,width:e.coordSys.width,height:e.coordSys.height});return c&&{type:"rect",shape:c,style:t.style({text:"".concat(s,"ms")})}},r=this,e.next=4,this.$store.dispatch("getTracerSpans",{spanId:t});case 4:for(n=e.sent,a=n.spanArr[0].startMs,o=[],i=[],s=[],c=["#669999","#996600","#990033","#336633","#999900","#FF9933","#663366","#CCCC00","#CC6633","#99CC33"],u={},l=0;l<n.serviceArr.length;l++)u[n.serviceArr[l].serviceName]=c[l];for(d=0;d<n.spanArr.length;d++)p=n.spanArr[d],i.push({name:p.serviceName,value:[n.spanArr.length-1-d,p.startMs,p.finishMs,p.durationMs,p.serviceName],itemStyle:{normal:{color:u[p.serviceName]}}}),o.unshift(p.operationName);for(v=!0,h=!1,f=void 0,e.prev=16,g=Ce()(n.serviceArr);!(v=(m=g.next()).done);v=!0){for(b=m.value,w={name:b,type:"custom",renderItem:S,itemStyle:{normal:{opacity:.8}},encode:{x:[1,2],y:0},data:[]},x=0;x<i.length;x++)y=i[x],y.value[4]==b&&w.data.push(y);s.push(w)}e.next=24;break;case 20:e.prev=20,e.t0=e["catch"](16),h=!0,f=e.t0;case 24:e.prev=24,e.prev=25,v||null==g.return||g.return();case 27:if(e.prev=27,!h){e.next=30;break}throw f;case 30:return e.finish(27);case 31:return e.finish(24);case 32:this.$echarts.init(document.getElementById("gantt")).setOption({color:c,backgroundColor:"gray",tooltip:{formatter:function(e){return"".concat(e.marker).concat(e.name,"<br/>")+"serviceï¼".concat(e.value[4],"<br/>")+"rangeï¼".concat(e.value[1]-a,"ms-").concat(e.value[2]-a,"ms<br/>")+"durationï¼".concat(e.value[3],"ms")}},title:{text:"Operation Tracer \n span:".concat(n.spanArr.length," depth:").concat(n.depth),left:"center"},dataZoom:[{type:"slider",filterMode:"weakFilter",showDataShadow:!1,bottom:10,height:10,borderColor:"transparent",backgroundColor:"#e2e2e2",handleIcon:"M10.7,11.9H9.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",handleSize:20,handleStyle:{shadowBlur:6,shadowOffsetX:1,shadowOffsetY:2,shadowColor:"#aaa"},labelFormatter:""},{type:"inside",filterMode:"weakFilter"}],xAxis:{min:a,scale:!0,axisLabel:{formatter:function(e){return Math.max(0,e-a)+" ms"}},splitLine:{show:!0,lineStyle:{type:"dashed"}}},yAxis:{data:o,splitLine:{show:!1,lineStyle:{color:"dark"}}},legend:{type:"scroll",top:40},series:s});case 33:case"end":return e.stop()}},e,this,[[16,20,24,32],[25,,27,31]])}));function t(t){return e.apply(this,arguments)}return t}()},computed:{openSpan:{get:function(){return this.$store.state.openSpan&&this.spanId&&(this.dialogTitle=this.spanId,this.drawGantt(this.spanId)),this.$store.state.openSpan},set:function(e){this.$store.commit("openSpan",e)}}}},Ve=_e,Re=r("169a"),Ie=r("ce7e"),je=Object(l["a"])(Ve,Ae,ke,!1,null,null,null);je.options.__file="Span.vue";var Te=je.exports;p()(je,{VBtn:v["a"],VCard:z["a"],VCardActions:F["a"],VCardTitle:ee["a"],VDialog:Re["a"],VDivider:Ie["a"],VSpacer:y["a"]});var Le={components:{Span:Te},data:function(){return{loading:!0,services:[],operations:[],spans:[],selectedService:"",selectedOperation:"",disableInitialSort:!0,headers:[{text:"Operation",align:"left",sortable:!1,value:"operationName",width:"300"},{text:"Start",value:"startMs",width:"200"},{text:"Duration",value:"duration"}],spanId:null}},filters:{formatDate:function(e){return Se()(e).format("YY/MM/DD HH:mm:ss")}},created:function(){this.getServices()},methods:{getServices:function(){var e=Object(D["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,e.next=3,this.$store.dispatch("getServices",{});case 3:t=e.sent,this.services=t,this.selectedService=this.services[0],this.getServiceOperations(this.selectedService);case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),getServiceOperations:function(){var e=Object(D["a"])(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,e.next=3,this.$store.dispatch("getServiceOperations",{serviceName:this.selectedService});case 3:r=e.sent,this.operations=r,this.selectedOperation=this.operations[0],this.getOperationSpans();case 7:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),getOperationSpans:function(){var e=Object(D["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$store.dispatch("getOperationSpans",{serviceName:this.selectedService,operationName:this.selectedOperation});case 2:t=e.sent,this.spans=t,this.loading=!1;case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),openSpan:function(e){this.spanId=e,this.$store.commit("openSpan",!this.$store.state.openSpan)}}},Ee=Le,De=r("8fea"),Ne=r("8e36"),Be=Object(l["a"])(Ee,we,xe,!1,null,null,null);Be.options.__file="Operation.vue";var Me=Be.exports;p()(Be,{VContainer:W["a"],VDataTable:De["a"],VFlex:$["a"],VLayout:U["a"],VProgressLinear:Ne["a"],VSelect:ge["a"]});var Ge=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{attrs:{fluid:""}},[r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-text-field",{attrs:{label:"Username",maxlength:"25",counter:"25"},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1)],1),r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-text-field",{attrs:{type:"password",label:"Password",maxlength:"25",counter:"25"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1)],1),r("v-layout",{attrs:{row:"","justify-start":""}},[r("v-btn",{on:{click:e.onUpdate}},[e._v("Update")])],1),r("v-snackbar",{attrs:{top:"","auto-height":"",color:"success"},model:{value:e.err,callback:function(t){e.err=t},expression:"err"}},[e._v("\n    "+e._s(e.errMsg)+"\n    "),r("v-btn",{attrs:{flat:""},on:{click:function(t){e.err=!1}}},[e._v("Close")])],1)],1)},ze=[],Fe={created:function(){},data:function(){return{form:{username:null,password:null},err:!1,errMsg:null}},methods:{onUpdate:function(){var e=Object(D["a"])(regeneratorRuntime.mark(function e(){var t,r=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$store.dispatch("updateAuth",this.form);case 2:t=e.sent,t&&(this.err=!0,this.errMsg="SUCCESS",setTimeout(function(){r.logout()},600));case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),logout:function(){localStorage.clear(),this.$router.push({path:"/"})}}},We=Fe,$e=Object(l["a"])(We,Ge,ze,!1,null,null,null);$e.options.__file="Setting.vue";var Je=$e.exports;p()($e,{VBtn:v["a"],VContainer:W["a"],VFlex:$["a"],VLayout:U["a"],VSnackbar:P["a"],VTextField:X["a"]}),n["a"].use(T["a"]);var Ue=new T["a"]({routes:[{path:"/",name:"login",component:H},{path:"/home",name:"home",component:ae},{path:"/topology",name:"topology",component:le},{path:"/service",name:"service",component:be},{path:"/operation",name:"operation",component:Me},{path:"/setting",name:"setting",component:Je}]}),Pe=r("795b"),Xe=r.n(Pe),Ye=(r("28a5"),r("2f62")),He=r("bc3a"),Ze=r.n(He),qe="http://".concat(window.location.hostname,":3636");n["a"].use(Ye["a"]);var Ke=new Ye["a"].Store({state:{openSpan:!1},mutations:{openSpan:function(e,t){e.openSpan=t}},actions:{serviceDAG:function(){var e=Object(D["a"])(regeneratorRuntime.mark(function e(t,r){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ze.a.get("".concat(qe,"/nodetracing/echart/dag"));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}},e,this)}));function t(t,r){return e.apply(this,arguments)}return t}(),spanDAG:function(){var e=Object(D["a"])(regeneratorRuntime.mark(function e(t,r){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!r.serviceName){e.next=7;break}return e.next=3,Ze.a.get("".concat(qe,"/nodetracing/echart/dag/").concat(r.serviceName));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.abrupt("return",{});case 8:case"end":return e.stop()}},e,this)}));function t(t,r){return e.apply(this,arguments)}return t}(),getServices:function(){var e=Object(D["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ze.a.get("".concat(qe,"/nodetracing/service"));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),getServiceOperations:function(){var e=Object(D["a"])(regeneratorRuntime.mark(function e(t,r){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!r.serviceName){e.next=7;break}return e.next=3,Ze.a.get("".concat(qe,"/nodetracing/operation/").concat(r.serviceName));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.abrupt("return",[]);case 8:case"end":return e.stop()}},e,this)}));function t(t,r){return e.apply(this,arguments)}return t}(),getOperationSpans:function(){var e=Object(D["a"])(regeneratorRuntime.mark(function e(t,r){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!r.serviceName||!r.operationName){e.next=7;break}return e.next=3,Ze.a.get("".concat(qe,"/nodetracing/operation/").concat(r.serviceName,"/").concat(r.operationName));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.abrupt("return",[]);case 8:case"end":return e.stop()}},e,this)}));function t(t,r){return e.apply(this,arguments)}return t}(),getTracerSpans:function(){var e=Object(D["a"])(regeneratorRuntime.mark(function e(t,r){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!r.spanId){e.next=7;break}return e.next=3,Ze.a.get("".concat(qe,"/nodetracing/span/tracer/").concat(r.spanId));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.abrupt("return",[]);case 8:case"end":return e.stop()}},e,this)}));function t(t,r){return e.apply(this,arguments)}return t}(),getCount:function(){var e=Object(D["a"])(regeneratorRuntime.mark(function e(t,r){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ze.a.get("".concat(qe,"/nodetracing/dashboard/count"));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}},e,this)}));function t(t,r){return e.apply(this,arguments)}return t}(),login:function(){var e=Object(D["a"])(regeneratorRuntime.mark(function e(t,r){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ze.a.post("".concat(qe,"/nodetracing/user/login"),r);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}},e,this)}));function t(t,r){return e.apply(this,arguments)}return t}(),updateAuth:function(){var e=Object(D["a"])(regeneratorRuntime.mark(function e(t,r){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ze.a.post("".concat(qe,"/nodetracing/user/updateAuth"),r);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}},e,this)}));function t(t,r){return e.apply(this,arguments)}return t}()}});Ze.a.interceptors.request.use(function(e){return e.headers.token=localStorage.getItem("token"),e}),Ze.a.interceptors.response.use(function(e){return e},function(e){if(401==e.response.status)return localStorage.clear(),window.location.href=window.location.href.split("#")[0],Xe.a.resolve(e)});var Qe=r("9483");Object(Qe["a"])("".concat("/nodetracing/web/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},cached:function(){console.log("Content has been cached for offline use.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var et=r("bb71"),tt=(r("da64"),r("313e"));n["a"].prototype.$echarts=tt,n["a"].use(et["a"],{iconfont:"md"}),n["a"].config.productionTip=!1,new n["a"]({router:Ue,store:Ke,render:function(e){return e(j)}}).$mount("#app")}});