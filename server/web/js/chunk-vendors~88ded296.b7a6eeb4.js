(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-vendors~88ded296"],{"01ef":function(e,t){function n(e,t,n){var r=e.target,o=r.position;o[0]+=t,o[1]+=n,r.dirty()}function r(e,t,n,r){var o=e.target,i=e.zoomLimit,a=o.position,s=o.scale,u=e.zoom=e.zoom||1;if(u*=t,i){var c=i.min||0,l=i.max||1/0;u=Math.max(Math.min(l,u),c)}var h=u/e.zoom;e.zoom=u,a[0]-=(n-a[0])*(h-1),a[1]-=(r-a[1])*(h-1),s[0]*=h,s[1]*=h,o.dirty()}t.updateViewOnPan=n,t.updateViewOnZoom=r},"0c41":function(e,t,n){var r=n("6d8b"),o=n("4a01"),i=n("01ef"),a=n("c526"),s=a.onIrrelevantElement,u=n("2306"),c=n("5b87"),l=n("8918"),h=l.getUID;function f(e,t){var n=e.getItemStyle(),r=e.get("areaColor");return null!=r&&(n.fill=r),n}function g(e,t,n,o,i){n.off("click"),n.off("mousedown"),t.get("selectedMode")&&(n.on("mousedown",function(){e._mouseDownFlag=!0}),n.on("click",function(a){if(e._mouseDownFlag){e._mouseDownFlag=!1;var s=a.target;while(!s.__regions)s=s.parent;if(s){var u={type:("geo"===t.mainType?"geo":"map")+"ToggleSelect",batch:r.map(s.__regions,function(e){return{name:e.name,from:i.uid}})};u[t.mainType+"Id"]=t.id,o.dispatchAction(u),d(t,n)}}}))}function d(e,t){t.eachChild(function(t){r.each(t.__regions,function(n){t.trigger(e.isSelected(n.name)?"emphasis":"normal")})})}function p(e,t){var n=new u.Group;this.uid=h("ec_map_draw"),this._controller=new o(e.getZr()),this._controllerHost={target:t?n:null},this.group=n,this._updateGroup=t,this._mouseDownFlag,this._mapName,this._initialized,n.add(this._regionsGroup=new u.Group),n.add(this._backgroundGroup=new u.Group)}p.prototype={constructor:p,draw:function(e,t,n,o,i){var a="geo"===e.mainType,s=e.getData&&e.getData();a&&t.eachComponent({mainType:"series",subType:"map"},function(t){s||t.getHostGeoModel()!==e||(s=t.getData())});var c=e.coordinateSystem;this._updateBackground(c);var l=this._regionsGroup,h=this.group,p=c.scale,v={position:c.position,scale:p};!l.childAt(0)||i?h.attr(v):u.updateProps(h,v,e),l.removeAll();var m=["itemStyle"],_=["emphasis","itemStyle"],y=["label"],b=["emphasis","label"],x=r.createHashMap();r.each(c.regions,function(t){var n=x.get(t.name)||x.set(t.name,new u.Group),o=new u.CompoundPath({shape:{paths:[]}});n.add(o);var i,c=e.getRegionModel(t.name)||e,h=c.getModel(m),g=c.getModel(_),d=f(h,p),v=f(g,p),M=c.getModel(y),w=c.getModel(b);if(s){i=s.indexOfName(t.name);var C=s.getItemVisual(i,"color",!0);C&&(d.fill=C)}r.each(t.geometries,function(e){if("polygon"===e.type){o.shape.paths.push(new u.Polygon({shape:{points:e.exterior}}));for(var t=0;t<(e.interiors?e.interiors.length:0);t++)o.shape.paths.push(new u.Polygon({shape:{points:e.interiors[t]}}))}}),o.setStyle(d),o.style.strokeNoScale=!0,o.culling=!0;var T=M.get("show"),O=w.get("show"),S=s&&isNaN(s.get(s.mapDimension("value"),i)),k=s&&s.getItemLayout(i);if(a||S&&(T||O)||k&&k.showLabel){var I,P=a?t.name:i;(!s||i>=0)&&(I=e);var z=new u.Text({position:t.center.slice(),scale:[1/p[0],1/p[1]],z2:10,silent:!0});u.setLabelStyle(z.style,z.hoverStyle={},M,w,{labelFetcher:I,labelDataIndex:P,defaultText:t.name,useInsideStyle:!1},{textAlign:"center",textVerticalAlign:"middle"}),n.add(z)}if(s)s.setItemGraphicEl(i,n);else{c=e.getRegionModel(t.name);o.eventData={componentType:"geo",componentIndex:e.componentIndex,geoIndex:e.componentIndex,name:t.name,region:c&&c.option||{}}}var R=n.__regions||(n.__regions=[]);R.push(t),u.setHoverStyle(n,v,{hoverSilentOnTouch:!!e.get("selectedMode")}),l.add(n)}),this._updateController(e,t,n),g(this,e,l,n,o),d(e,l)},remove:function(){this._regionsGroup.removeAll(),this._backgroundGroup.removeAll(),this._controller.dispose(),this._mapName&&c.removeGraphic(this._mapName,this.uid),this._mapName=null,this._controllerHost={}},_updateBackground:function(e){var t=e.map;this._mapName!==t&&r.each(c.makeGraphic(t,this.uid),function(e){this._backgroundGroup.add(e)},this),this._mapName=t},_updateController:function(e,t,n){var o=e.coordinateSystem,a=this._controller,u=this._controllerHost;u.zoomLimit=e.get("scaleLimit"),u.zoom=o.getZoom(),a.enable(e.get("roam")||!1);var c=e.mainType;function l(){var t={type:"geoRoam",componentType:c};return t[c+"Id"]=e.id,t}a.off("pan").on("pan",function(e){this._mouseDownFlag=!1,i.updateViewOnPan(u,e.dx,e.dy),n.dispatchAction(r.extend(l(),{dx:e.dx,dy:e.dy}))},this),a.off("zoom").on("zoom",function(e){if(this._mouseDownFlag=!1,i.updateViewOnZoom(u,e.scale,e.originX,e.originY),n.dispatchAction(r.extend(l(),{zoom:e.scale,originX:e.originX,originY:e.originY})),this._updateGroup){var t=this.group.scale;this._regionsGroup.traverse(function(e){"text"===e.type&&e.attr("scale",[1/t[0],1/t[1]])})}},this),a.setPointerChecker(function(t,r,i){return o.getViewRectAfterRoam().contain(r,i)&&!s(t,n,e)})}};var v=p;e.exports=v},"4a01":function(e,t,n){var r=n("6d8b"),o=n("1fab"),i=n("607d"),a=n("a4fe");function s(e){this.pointerChecker,this._zr=e,this._opt={};var t=r.bind,n=t(u,this),i=t(c,this),a=t(l,this),s=t(h,this),g=t(f,this);o.call(this),this.setPointerChecker=function(e){this.pointerChecker=e},this.enable=function(t,o){this.disable(),this._opt=r.defaults(r.clone(o)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),null==t&&(t=!0),!0!==t&&"move"!==t&&"pan"!==t||(e.on("mousedown",n),e.on("mousemove",i),e.on("mouseup",a)),!0!==t&&"scale"!==t&&"zoom"!==t||(e.on("mousewheel",s),e.on("pinch",g))},this.disable=function(){e.off("mousedown",n),e.off("mousemove",i),e.off("mouseup",a),e.off("mousewheel",s),e.off("pinch",g)},this.dispose=this.disable,this.isDragging=function(){return this._dragging},this.isPinching=function(){return this._pinching}}function u(e){if(!(i.notLeftMouse(e)||e.target&&e.target.draggable)){var t=e.offsetX,n=e.offsetY;this.pointerChecker&&this.pointerChecker(e,t,n)&&(this._x=t,this._y=n,this._dragging=!0)}}function c(e){if(!i.notLeftMouse(e)&&p("moveOnMouseMove",e,this._opt)&&this._dragging&&"pinch"!==e.gestureEvent&&!a.isTaken(this._zr,"globalPan")){var t=e.offsetX,n=e.offsetY,r=this._x,o=this._y,s=t-r,u=n-o;this._x=t,this._y=n,this._opt.preventDefaultMouseMove&&i.stop(e.event),d(this,"pan","moveOnMouseMove",e,{dx:s,dy:u,oldX:r,oldY:o,newX:t,newY:n})}}function l(e){i.notLeftMouse(e)||(this._dragging=!1)}function h(e){var t=p("zoomOnMouseWheel",e,this._opt),n=p("moveOnMouseWheel",e,this._opt),r=e.wheelDelta,o=Math.abs(r),i=e.offsetX,a=e.offsetY;if(0!==r&&(t||n)){if(t){var s=o>3?1.4:o>1?1.2:1.1,u=r>0?s:1/s;g(this,"zoom","zoomOnMouseWheel",e,{scale:u,originX:i,originY:a})}if(n){var c=Math.abs(r),l=(r>0?1:-1)*(c>3?.4:c>1?.15:.05);g(this,"scrollMove","moveOnMouseWheel",e,{scrollDelta:l,originX:i,originY:a})}}}function f(e){if(!a.isTaken(this._zr,"globalPan")){var t=e.pinchScale>1?1.1:1/1.1;g(this,"zoom",null,e,{scale:t,originX:e.pinchX,originY:e.pinchY})}}function g(e,t,n,r,o){e.pointerChecker&&e.pointerChecker(r,o.originX,o.originY)&&(i.stop(r.event),d(e,t,n,r,o))}function d(e,t,n,o,i){i.isAvailableBehavior=r.bind(p,null,n,o),e.trigger(t,i)}function p(e,t,n){var o=n[e];return!e||o&&(!r.isString(o)||t.event[o+"Key"])}r.mixin(s,o);var v=s;e.exports=v},7023:function(e,t,n){var r=n("6d8b"),o={updateSelectedMap:function(e){this._targetList=r.isArray(e)?e.slice():[],this._selectTargetMap=r.reduce(e||[],function(e,t){return e.set(t.name,t),e},r.createHashMap())},select:function(e,t){var n=null!=t?this._targetList[t]:this._selectTargetMap.get(e),r=this.get("selectedMode");"single"===r&&this._selectTargetMap.each(function(e){e.selected=!1}),n&&(n.selected=!0)},unSelect:function(e,t){var n=null!=t?this._targetList[t]:this._selectTargetMap.get(e);n&&(n.selected=!1)},toggleSelected:function(e,t){var n=null!=t?this._targetList[t]:this._selectTargetMap.get(e);if(null!=n)return this[n.selected?"unSelect":"select"](e,t),n.selected},isSelected:function(e,t){var n=null!=t?this._targetList[t]:this._selectTargetMap.get(e);return n&&n.selected}};e.exports=o},7919:function(e,t,n){var r=n("f934"),o=r.getLayoutRect,i=r.box,a=r.positionElement,s=n("eda2"),u=n("2306");function c(e,t,n){var r=t.getBoxLayoutParams(),s=t.get("padding"),u={width:n.getWidth(),height:n.getHeight()},c=o(r,u,s);i(t.get("orient"),e,t.get("itemGap"),c.width,c.height),a(e,r,u,s)}function l(e,t){var n=s.normalizeCssArray(t.get("padding")),r=t.getItemStyle(["color","opacity"]);r.fill=t.get("backgroundColor");e=new u.Rect({shape:{x:e.x-n[3],y:e.y-n[0],width:e.width+n[1]+n[3],height:e.height+n[0]+n[2],r:t.get("borderRadius")},style:r,silent:!0,z2:-1});return e}t.layout=c,t.makeBackground=l},a4fe:function(e,t,n){var r=n("3eba"),o="\0_ec_interaction_mutex";function i(e,t,n){var r=u(e);r[t]=n}function a(e,t,n){var r=u(e),o=r[t];o===n&&(r[t]=null)}function s(e,t){return!!u(e)[t]}function u(e){return e[o]||(e[o]={})}r.registerAction({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},function(){}),t.take=i,t.release=a,t.isTaken=s},bd9e:function(e,t,n){var r=n("4e08"),o=(r.__DEV__,n("6d8b")),i=n("2306"),a=n("e0d3"),s=n("f4a2"),u=o.each,c=o.indexOf,l=o.curry,h=["dataToPoint","pointToData"],f=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"];function g(e,t,n){var r=this._targetInfoList=[],o={},i=v(t,e);u(m,function(e,t){(!n||!n.include||c(n.include,t)>=0)&&e(i,r,o)})}var d=g.prototype;function p(e){return e[0]>e[1]&&e.reverse(),e}function v(e,t){return a.parseFinder(e,t,{includeMainTypes:f})}d.setOutputRanges=function(e,t){this.matchOutputRanges(e,t,function(e,t,n){if((e.coordRanges||(e.coordRanges=[])).push(t),!e.coordRange){e.coordRange=t;var r=b[e.brushType](0,n,t);e.__rangeOffset={offset:M[e.brushType](r.values,e.range,[1,1]),xyMinMax:r.xyMinMax}}})},d.matchOutputRanges=function(e,t,n){u(e,function(e){var r=this.findTargetInfo(e,t);r&&!0!==r&&o.each(r.coordSyses,function(r){var o=b[e.brushType](1,r,e.range);n(e,o.values,r,t)})},this)},d.setInputRanges=function(e,t){u(e,function(e){var n=this.findTargetInfo(e,t);if(e.range=e.range||[],n&&!0!==n){e.panelId=n.panelId;var r=b[e.brushType](0,n.coordSys,e.coordRange),o=e.__rangeOffset;e.range=o?M[e.brushType](r.values,o.offset,C(r.xyMinMax,o.xyMinMax)):r.values}},this)},d.makePanelOpts=function(e,t){return o.map(this._targetInfoList,function(n){var r=n.getPanelRect();return{panelId:n.panelId,defaultBrushType:t&&t(n),clipPath:s.makeRectPanelClipPath(r),isTargetByCursor:s.makeRectIsTargetByCursor(r,e,n.coordSysModel),getLinearBrushOtherExtent:s.makeLinearBrushOtherExtent(r)}})},d.controlSeries=function(e,t,n){var r=this.findTargetInfo(e,n);return!0===r||r&&c(r.coordSyses,t.coordinateSystem)>=0},d.findTargetInfo=function(e,t){for(var n=this._targetInfoList,r=v(t,e),o=0;o<n.length;o++){var i=n[o],a=e.panelId;if(a){if(i.panelId===a)return i}else for(o=0;o<_.length;o++)if(_[o](r,i))return i}return!0};var m={grid:function(e,t){var n=e.xAxisModels,r=e.yAxisModels,i=e.gridModels,a=o.createHashMap(),s={},l={};(n||r||i)&&(u(n,function(e){var t=e.axis.grid.model;a.set(t.id,t),s[t.id]=!0}),u(r,function(e){var t=e.axis.grid.model;a.set(t.id,t),l[t.id]=!0}),u(i,function(e){a.set(e.id,e),s[e.id]=!0,l[e.id]=!0}),a.each(function(e){var o=e.coordinateSystem,i=[];u(o.getCartesians(),function(e,t){(c(n,e.getAxis("x").model)>=0||c(r,e.getAxis("y").model)>=0)&&i.push(e)}),t.push({panelId:"grid--"+e.id,gridModel:e,coordSysModel:e,coordSys:i[0],coordSyses:i,getPanelRect:y.grid,xAxisDeclared:s[e.id],yAxisDeclared:l[e.id]})}))},geo:function(e,t){u(e.geoModels,function(e){var n=e.coordinateSystem;t.push({panelId:"geo--"+e.id,geoModel:e,coordSysModel:e,coordSys:n,coordSyses:[n],getPanelRect:y.geo})})}},_=[function(e,t){var n=e.xAxisModel,r=e.yAxisModel,o=e.gridModel;return!o&&n&&(o=n.axis.grid.model),!o&&r&&(o=r.axis.grid.model),o&&o===t.gridModel},function(e,t){var n=e.geoModel;return n&&n===t.geoModel}],y={grid:function(){return this.coordSys.grid.getRect().clone()},geo:function(){var e=this.coordSys,t=e.getBoundingRect().clone();return t.applyTransform(i.getTransform(e)),t}},b={lineX:l(x,0),lineY:l(x,1),rect:function(e,t,n){var r=t[h[e]]([n[0][0],n[1][0]]),o=t[h[e]]([n[0][1],n[1][1]]),i=[p([r[0],o[0]]),p([r[1],o[1]])];return{values:i,xyMinMax:i}},polygon:function(e,t,n){var r=[[1/0,-1/0],[1/0,-1/0]],i=o.map(n,function(n){var o=t[h[e]](n);return r[0][0]=Math.min(r[0][0],o[0]),r[1][0]=Math.min(r[1][0],o[1]),r[0][1]=Math.max(r[0][1],o[0]),r[1][1]=Math.max(r[1][1],o[1]),o});return{values:i,xyMinMax:r}}};function x(e,t,n,r){var i=n.getAxis(["x","y"][e]),a=p(o.map([0,1],function(e){return t?i.coordToData(i.toLocalCoord(r[e])):i.toGlobalCoord(i.dataToCoord(r[e]))})),s=[];return s[e]=a,s[1-e]=[NaN,NaN],{values:a,xyMinMax:s}}var M={lineX:l(w,0),lineY:l(w,1),rect:function(e,t,n){return[[e[0][0]-n[0]*t[0][0],e[0][1]-n[0]*t[0][1]],[e[1][0]-n[1]*t[1][0],e[1][1]-n[1]*t[1][1]]]},polygon:function(e,t,n){return o.map(e,function(e,r){return[e[0]-n[0]*t[r][0],e[1]-n[1]*t[r][1]]})}};function w(e,t,n,r){return[t[0]-r[e]*n[0],t[1]-r[e]*n[1]]}function C(e,t){var n=T(e),r=T(t),o=[n[0]/r[0],n[1]/r[1]];return isNaN(o[0])&&(o[0]=1),isNaN(o[1])&&(o[1]=1),o}function T(e){return e?[e[0][1]-e[0][0],e[1][1]-e[1][0]]:[NaN,NaN]}var O=g;e.exports=O},c526:function(e,t){var n={axisPointer:1,tooltip:1,brush:1};function r(e,t,r){var o=t.getComponentByElement(e.topTarget),i=o&&o.coordinateSystem;return o&&o!==r&&!n[o.mainType]&&i&&i.model!==r}t.onIrrelevantElement=r},ef6a:function(e,t){function n(e,t,n,i,a,s){t[0]=o(t[0],n),t[1]=o(t[1],n),e=e||0;var u=n[1]-n[0];null!=a&&(a=o(a,[0,u])),null!=s&&(s=Math.max(s,null!=a?a:0)),"all"===i&&(a=s=Math.abs(t[1]-t[0]),i=0);var c=r(t,i);t[i]+=e;var l=a||0,h=n.slice();c.sign<0?h[0]+=l:h[1]-=l,t[i]=o(t[i],h);var f=r(t,i);null!=a&&(f.sign!==c.sign||f.span<a)&&(t[1-i]=t[i]+c.sign*a);f=r(t,i);return null!=s&&f.span>s&&(t[1-i]=t[i]+f.sign*s),t}function r(e,t){var n=e[t]-e[1-t];return{span:Math.abs(n),sign:n>0?-1:n<0?1:t?-1:1}}function o(e,t){return Math.min(t[1],Math.max(t[0],e))}e.exports=n},f4a2:function(e,t,n){var r=n("9850"),o=n("c526"),i=o.onIrrelevantElement,a=n("2306");function s(e){return e=l(e),function(t,n){return a.clipPointsByRect(t,e)}}function u(e,t){return e=l(e),function(n){var r=null!=t?t:n,o=r?e.width:e.height,i=r?e.x:e.y;return[i,i+(o||0)]}}function c(e,t,n){return e=l(e),function(r,o,a){return e.contain(o[0],o[1])&&!i(r,t,n)}}function l(e){return r.create(e)}t.makeRectPanelClipPath=s,t.makeLinearBrushOtherExtent=u,t.makeRectIsTargetByCursor=c},fc82:function(e,t,n){var r=n("4e08"),o=(r.__DEV__,n("6d8b")),i=n("1fab"),a=n("2306"),s=n("a4fe"),u=n("80f0"),c=o.curry,l=o.each,h=o.map,f=Math.min,g=Math.max,d=Math.pow,p=1e4,v=6,m=6,_="globalPan",y={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},b={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},x={brushStyle:{lineWidth:2,stroke:"rgba(0,0,0,0.3)",fill:"rgba(0,0,0,0.1)"},transformable:!0,brushMode:"single",removeOnClick:!1},M=0;function w(e){i.call(this),this._zr=e,this.group=new a.Group,this._brushType,this._brushOption,this._panels,this._track=[],this._dragging,this._covers=[],this._creatingCover,this._creatingPanel,this._enableGlobalPan,this._uid="brushController_"+M++,this._handlers={},l(ne,function(e,t){this._handlers[t]=o.bind(e,this)},this)}function C(e,t){var n=e._zr;e._enableGlobalPan||s.take(n,_,e._uid),l(e._handlers,function(e,t){n.on(t,e)}),e._brushType=t.brushType,e._brushOption=o.merge(o.clone(x),t,!0)}function T(e){var t=e._zr;s.release(t,_,e._uid),l(e._handlers,function(e,n){t.off(n,e)}),e._brushType=e._brushOption=null}function O(e,t){var n=oe[t.brushType].createCover(e,t);return n.__brushOption=t,I(n,t),e.group.add(n),n}function S(e,t){var n=z(t);return n.endCreating&&(n.endCreating(e,t),I(t,t.__brushOption)),t}function k(e,t){var n=t.__brushOption;z(t).updateCoverShape(e,t,n.range,n)}function I(e,t){var n=t.z;null==n&&(n=p),e.traverse(function(e){e.z=n,e.z2=n})}function P(e,t){z(t).updateCommon(e,t),k(e,t)}function z(e){return oe[e.__brushOption.brushType]}function R(e,t,n){var r,o=e._panels;if(!o)return!0;var i=e._transform;return l(o,function(e){e.isTargetByCursor(t,n,i)&&(r=e)}),r}function L(e,t){var n=e._panels;if(!n)return!0;var r=t.__brushOption.panelId;return null==r||n[r]}function A(e){var t=e._covers,n=t.length;return l(t,function(t){e.group.remove(t)},e),t.length=0,!!n}function D(e,t){var n=h(e._covers,function(e){var t=e.__brushOption,n=o.clone(t.range);return{brushType:t.brushType,panelId:t.panelId,range:n}});e.trigger("brush",n,{isEnd:!!t.isEnd,removeOnClick:!!t.removeOnClick})}function G(e){var t=e._track;if(!t.length)return!1;var n=t[t.length-1],r=t[0],o=n[0]-r[0],i=n[1]-r[1],a=d(o*o+i*i,.5);return a>v}function N(e){var t=e.length-1;return t<0&&(t=0),[e[0],e[t]]}function E(e,t,n,r){var o=new a.Group;return o.add(new a.Rect({name:"main",style:H(n),silent:!0,draggable:!0,cursor:"move",drift:c(e,t,o,"nswe"),ondragend:c(D,t,{isEnd:!0})})),l(r,function(n){o.add(new a.Rect({name:n,style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:c(e,t,o,n),ondragend:c(D,t,{isEnd:!0})}))}),o}function B(e,t,n,r){var o=r.brushStyle.lineWidth||0,i=g(o,m),a=n[0][0],s=n[1][0],u=a-o/2,c=s-o/2,l=n[0][1],h=n[1][1],f=l-i+o/2,d=h-i+o/2,p=l-a,v=h-s,_=p+o,y=v+o;Y(e,t,"main",a,s,p,v),r.transformable&&(Y(e,t,"w",u,c,i,y),Y(e,t,"e",f,c,i,y),Y(e,t,"n",u,c,_,i),Y(e,t,"s",u,d,_,i),Y(e,t,"nw",u,c,i,i),Y(e,t,"ne",f,c,i,i),Y(e,t,"sw",u,d,i,i),Y(e,t,"se",f,d,i,i))}function X(e,t){var n=t.__brushOption,r=n.transformable,o=t.childAt(0);o.useStyle(H(n)),o.attr({silent:!r,cursor:r?"move":"default"}),l(["w","e","n","s","se","sw","ne","nw"],function(n){var o=t.childOfName(n),i=F(e,n);o&&o.attr({silent:!r,invisible:!r,cursor:r?b[i]+"-resize":null})})}function Y(e,t,n,r,o,i,a){var s=t.childOfName(n);s&&s.setShape(U(K(e,t,[[r,o],[r+i,o+a]])))}function H(e){return o.defaults({strokeNoScale:!0},e.brushStyle)}function W(e,t,n,r){var o=[f(e,n),f(t,r)],i=[g(e,n),g(t,r)];return[[o[0],i[0]],[o[1],i[1]]]}function V(e){return a.getTransform(e.group)}function F(e,t){if(t.length>1){t=t.split("");var n=[F(e,t[0]),F(e,t[1])];return("e"===n[0]||"w"===n[0])&&n.reverse(),n.join("")}var r={w:"left",e:"right",n:"top",s:"bottom"},o={left:"w",right:"e",top:"n",bottom:"s"};n=a.transformDirection(r[t],V(e));return o[n]}function Z(e,t,n,r,o,i,a,s){var u=r.__brushOption,c=e(u.range),h=j(n,i,a);l(o.split(""),function(e){var t=y[e];c[t[0]][t[1]]+=h[t[0]]}),u.range=t(W(c[0][0],c[1][0],c[0][1],c[1][1])),P(n,r),D(n,{isEnd:!1})}function J(e,t,n,r,o){var i=t.__brushOption.range,a=j(e,n,r);l(i,function(e){e[0]+=a[0],e[1]+=a[1]}),P(e,t),D(e,{isEnd:!1})}function j(e,t,n){var r=e.group,o=r.transformCoordToLocal(t,n),i=r.transformCoordToLocal(0,0);return[o[0]-i[0],o[1]-i[1]]}function K(e,t,n){var r=L(e,t);return r&&!0!==r?r.clipPath(n,e._transform):o.clone(n)}function U(e){var t=f(e[0][0],e[1][0]),n=f(e[0][1],e[1][1]),r=g(e[0][0],e[1][0]),o=g(e[0][1],e[1][1]);return{x:t,y:n,width:r-t,height:o-n}}function q(e,t,n){if(e._brushType){var r=e._zr,o=e._covers,i=R(e,t,n);if(!e._dragging)for(var a=0;a<o.length;a++){var s=o[a].__brushOption;if(i&&(!0===i||s.panelId===i.panelId)&&oe[s.brushType].contain(o[a],n[0],n[1]))return}i&&r.setCursorStyle("crosshair")}}function Q(e){var t=e.event;t.preventDefault&&t.preventDefault()}function $(e,t,n){return e.childOfName("main").contain(t,n)}function ee(e,t,n,r){var i,a=e._creatingCover,s=e._creatingPanel,u=e._brushOption;if(e._track.push(n.slice()),G(e)||a){if(s&&!a){"single"===u.brushMode&&A(e);var c=o.clone(u);c.brushType=te(c.brushType,s),c.panelId=!0===s?null:s.panelId,a=e._creatingCover=O(e,c),e._covers.push(a)}if(a){var l=oe[te(e._brushType,s)],h=a.__brushOption;h.range=l.getCreatingRange(K(e,a,e._track)),r&&(S(e,a),l.updateCommon(e,a)),k(e,a),i={isEnd:r}}}else r&&"single"===u.brushMode&&u.removeOnClick&&R(e,t,n)&&A(e)&&(i={isEnd:r,removeOnClick:!0});return i}function te(e,t){return"auto"===e?t.defaultBrushType:e}w.prototype={constructor:w,enableBrush:function(e){return this._brushType&&T(this),e.brushType&&C(this,e),this},setPanels:function(e){if(e&&e.length){var t=this._panels={};o.each(e,function(e){t[e.panelId]=o.clone(e)})}else this._panels=null;return this},mount:function(e){e=e||{},this._enableGlobalPan=e.enableGlobalPan;var t=this.group;return this._zr.add(t),t.attr({position:e.position||[0,0],rotation:e.rotation||0,scale:e.scale||[1,1]}),this._transform=t.getLocalTransform(),this},eachCover:function(e,t){l(this._covers,e,t)},updateCovers:function(e){e=o.map(e,function(e){return o.merge(o.clone(x),e,!0)});var t="\0-brush-index-",n=this._covers,r=this._covers=[],i=this,a=this._creatingCover;return new u(n,e,c,s).add(l).update(l).remove(h).execute(),this;function s(e,n){return(null!=e.id?e.id:t+n)+"-"+e.brushType}function c(e,t){return s(e.__brushOption,t)}function l(t,o){var s=e[t];if(null!=o&&n[o]===a)r[t]=n[o];else{var u=r[t]=null!=o?(n[o].__brushOption=s,n[o]):S(i,O(i,s));P(i,u)}}function h(e){n[e]!==a&&i.group.remove(n[e])}},unmount:function(){return this.enableBrush(!1),A(this),this._zr.remove(this.group),this},dispose:function(){this.unmount(),this.off()}},o.mixin(w,i);var ne={mousedown:function(e){if(this._dragging)re.call(this,e);else if(!e.target||!e.target.draggable){Q(e);var t=this.group.transformCoordToLocal(e.offsetX,e.offsetY);this._creatingCover=null;var n=this._creatingPanel=R(this,e,t);n&&(this._dragging=!0,this._track=[t.slice()])}},mousemove:function(e){var t=this.group.transformCoordToLocal(e.offsetX,e.offsetY);if(q(this,e,t),this._dragging){Q(e);var n=ee(this,e,t,!1);n&&D(this,n)}},mouseup:re};function re(e){if(this._dragging){Q(e);var t=this.group.transformCoordToLocal(e.offsetX,e.offsetY),n=ee(this,e,t,!0);this._dragging=!1,this._track=[],this._creatingCover=null,n&&D(this,n)}}var oe={lineX:ie(0),lineY:ie(1),rect:{createCover:function(e,t){return E(c(Z,function(e){return e},function(e){return e}),e,t,["w","e","n","s","se","sw","ne","nw"])},getCreatingRange:function(e){var t=N(e);return W(t[1][0],t[1][1],t[0][0],t[0][1])},updateCoverShape:function(e,t,n,r){B(e,t,n,r)},updateCommon:X,contain:$},polygon:{createCover:function(e,t){var n=new a.Group;return n.add(new a.Polyline({name:"main",style:H(t),silent:!0})),n},getCreatingRange:function(e){return e},endCreating:function(e,t){t.remove(t.childAt(0)),t.add(new a.Polygon({name:"main",draggable:!0,drift:c(J,e,t),ondragend:c(D,e,{isEnd:!0})}))},updateCoverShape:function(e,t,n,r){t.childAt(0).setShape({points:K(e,t,n)})},updateCommon:X,contain:$}};function ie(e){return{createCover:function(t,n){return E(c(Z,function(t){var n=[t,[0,100]];return e&&n.reverse(),n},function(t){return t[e]}),t,n,[["w","e"],["n","s"]][e])},getCreatingRange:function(t){var n=N(t),r=f(n[0][e],n[1][e]),o=g(n[0][e],n[1][e]);return[r,o]},updateCoverShape:function(t,n,r,o){var i,a=L(t,n);if(!0!==a&&a.getLinearBrushOtherExtent)i=a.getLinearBrushOtherExtent(e,t._transform);else{var s=t._zr;i=[0,[s.getWidth(),s.getHeight()][1-e]]}var u=[r,i];e&&u.reverse(),B(t,n,u,o)},updateCommon:X,contain:$}}var ae=w;e.exports=ae}}]);